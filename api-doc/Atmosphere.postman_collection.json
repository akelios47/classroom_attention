{
	"info": {
		"_postman_id": "f3274ad4-71d8-40b0-92eb-f2c008c9889c",
		"name": "Atmosphere",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "DEMOS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST demo contents (tags, features, things, devices, measurements, constraints)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d02614a-551a-49bd-a4ac-a25d3cb5e476",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"",
									"if(data.users) pm.environment.set('users', JSON.stringify(data.users));",
									"if(data.tags) pm.environment.set('tags', JSON.stringify(data.tags));",
									"if(data.features) pm.environment.set('features', JSON.stringify(data.features));",
									"if(data.devices) pm.environment.set('devices', JSON.stringify(data.devices));",
									"if(data.things) pm.environment.set('things', JSON.stringify(data.things));",
									"if(data.measurements) pm.environment.set('measurements', JSON.stringify(data.measurements));",
									"if(data.constraints) pm.environment.set('measurements', JSON.stringify(data.constraints));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/demo",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"demo"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET demo contents",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d02614a-551a-49bd-a4ac-a25d3cb5e476",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"",
									"if(data.users) pm.environment.set('users', JSON.stringify(data.users));",
									"if(data.tags) pm.environment.set('tags', JSON.stringify(data.tags));",
									"if(data.features) pm.environment.set('features', JSON.stringify(data.features));",
									"if(data.devices) pm.environment.set('devices', JSON.stringify(data.devices));",
									"if(data.things) pm.environment.set('things', JSON.stringify(data.things));",
									"if(data.measurements) pm.environment.set('measurements', JSON.stringify(data.measurements));",
									"if(data.constraints) pm.environment.set('measurements', JSON.stringify(data.constraints));",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/demo",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"demo"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE demo contents",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d02614a-551a-49bd-a4ac-a25d3cb5e476",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/demo",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"demo"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "LOGIN",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as a provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('provider_username', users[1].username);",
									"pm.environment.set('provider_password', users[1].password);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"{{provider_username}}\",\n\t\"password\" : \"{{provider_password}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "LOGIN as analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "44025a2f-7f86-402f-8415-2bdb26e380bb",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('analyst_username', users[2].username);",
									"pm.environment.set('analyst_password', users[2].password);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"{{analyst_username}}\",\n\t\"password\" : \"{{analyst_password}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "USERS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the list of users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the list of usernames",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/usernames?filter={\"username\":{\"$regex\": \"user\"}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"usernames"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"username\":{\"$regex\": \"user\"}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new analyst",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": " {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"user-usernatme-test-2\",\n\t\"password\" : \"user-password-test-2\",\n\t\"type\" : \"analyst\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list new users",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n\t{\n\t\t\"username\" : \"user-username-test-1\",\n\t\t\"password\" : \"user-password-test-1\",\n\t\t\"type\" : \"analyst\"\n\t},\n\t{\n\t\t\"username\" : \"user-username-test-2\",\n\t\t\"password\" : \"user-password-test-2\",\n\t\t\"type\" : \"provider\"\n\t},\n\t{\n\t\t\"username\" : \"user-username-test-3\",\n\t\t\"password\" : \"user-password-test-3\",\n\t\t\"type\" : \"provider\"\n\t},\n\t{\n\t\t\"username\" : \"user-username-test-4\",\n\t\t\"password\" : \"user-password-test-4\",\n\t\t\"type\" : \"provider\"\n\t}\n]"
						},
						"url": {
							"raw": "{{url}}/v1/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a user",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ac6fb60f-7c09-436a-ba38-f566a11f51c0",
								"exec": [
									"var users = JSON.parse(pm.environment.get(\"users\"));",
									"pm.environment.set('user_id', users[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/users/{{user_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"users",
								"{{user_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "TAGS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all tags",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new tag",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "76819835-2375-4dfe-8aa8-fae946a42057",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bd874835-93b3-4a87-a6ca-aafede282d25",
								"exec": [
									"pm.environment.set(\"tag\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{ \n\t\"_id\": \"test_tag\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new tags (tagged)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "4ec82747-a423-4ab5-b8e3-2e24cd7f56fc",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n  { \"_id\": \"tagged-tag-1\", \"tags\": [\"{{tag}}\"] },\r\n  { \"_id\": \"tagged-tag-2\", \"tags\": [\"{{tag}}\"] },\r\n  { \"_id\": \"tagged-tag-3\", \"tags\": [\"{{tag}}\"] },\r\n  { \"_id\": \"tagged-tag-4\", \"tags\": [\"{{tag}}\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/tags",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all tags filtered by tag",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "164db961-624c-4869-8013-891731c7d870",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('tag', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/tags?filter={\"tags\": \"{{tag}}\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"tags\": \"{{tag}}\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a tag (not used)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "cd6a833f-3c29-4c26-aec0-18d6ba8611bf",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/tags/{{tag}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"tags",
								"{{tag}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "FEATURES",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all features",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8eaff9c0-fdbc-4288-9f4f-9c2e4dfa4a83",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('feature', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one feature",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/features/{{feature}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features",
								"{{feature}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new feature",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2e852dd1-b983-4f2e-b17b-e20748f69c69",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "175d28d8-231a-46db-a349-1575bea419e9",
								"exec": [
									"pm.environment.set(\"feature\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"_id\": \"position\",\n    \"items\": [\n    \t{\n        \t\"name\": \"longitude\",\n            \"unit\": \"degree\",\n            \"type\": \"number\",\n            \"dimension\": 0\n        },\n        {\n        \t\"name\": \"latitude\",\n            \"unit\": \"degree\",\n            \"type\": \"number\",\n            \"dimension\": 0\n        }\n    ]\n}\n"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new features",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{\r\n\t    \"_id\": \"heart-rate\",\r\n\t    \"items\": [\r\n\t    \t{\r\n\t        \t\"name\": \"value\",\r\n\t            \"unit\": \"beats-per-minute\",\r\n\t            \"type\": \"number\",\r\n            \t\"dimension\": 0\r\n\t        }\r\n\t    ]\r\n\t},\r\n\t{\r\n\t    \"_id\": \"interbeat-interval\",\r\n\t    \"items\": [\r\n\t    \t{\r\n\t        \t\"name\": \"value\",\r\n\t            \"unit\": \"milliseconds\",\r\n\t            \"type\": \"number\",\r\n            \t\"dimension\": 0\r\n\t        }\r\n\t    ]\r\n\t},\r\n\t{\r\n\t    \"_id\": \"pulse-amplitude\",\r\n\t    \"items\": [\r\n\t    \t{\r\n\t        \t\"name\": \"value\",\r\n\t            \"unit\": \"millivolts\",\r\n\t            \"type\": \"number\",\r\n            \t\"dimension\": 0\r\n\t        }\r\n\t    ]\r\n\t}\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a feature (only if not used)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/features/{{feature}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features",
								"{{feature}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "456fc2af-4476-4ca2-93e5-dd906d435c6d",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "d85e52bf-edb2-4a2c-9091-9ef9a7fafe10",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "THINGS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all things",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a7324839-b51b-4903-b355-dbef14f112b8",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('thing', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/things",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one thing",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/things/{{thing}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								"{{thing}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new thing",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"car-test\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/things/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new things",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"car-test-1\", \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] },\r\n\t{ \"_id\": \"car-test-2\", \"tags\": [\"{{tag2}}\"] },\r\n\t{ \"_id\": \"car-test-3\", \"tags\": [\"{{tag1}}\"] },\r\n\t{ \"_id\": \"car-test-4\", \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/things",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a things",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/things/{{thing}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								"{{thing}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d1485609-c27d-45f7-ae95-28528344c308",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "c5825004-8324-4962-8058-cf927abe398c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "DEVICES",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all devices",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7a842a86-4aad-493d-bcc5-2550c20d5d9f",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('device', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/devices",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7ccd41a2-55d2-4233-a8af-cbe664425404",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/devices/{{device}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								"{{device}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									"var features = JSON.parse(pm.environment.get(\"features\"));",
									"pm.environment.set('feature1', features[0]._id);",
									"pm.environment.set('feature2', features[1]._id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"_id\": \"device_test\",\r\n    \"features\": [ \"{{feature1}}\", \"{{feature2}}\" ]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/devices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new devices",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e0b58b11-cc9a-4f7b-9e75-32f1f239da49",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{ \"_id\": \"device-test-1\", \"features\": [\"{{feature1}}\", \"{{feature2}}\"], \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] },\r\n\t{ \"_id\": \"device-test-2\", \"features\": [\"{{feature1}}\", \"{{feature2}}\"], \"tags\": [\"{{tag2}}\"] },\r\n\t{ \"_id\": \"device-test-3\", \"features\": [\"{{feature1}}\"], \"tags\": [\"{{tag1}}\"] },\r\n\t{ \"_id\": \"device-test-4\", \"features\": [\"{{feature2}}\"], \"tags\": [\"{{tag1}}\", \"{{tag2}}\"] }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/devices",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a device (only if not used to collect measurements)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/devices/{{device}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								"{{device}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "ce4981b5-c96d-4a5c-addf-fe25424c5391",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "23a90929-2746-4cef-a360-fd4858ef9b4a",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "CONSTRAINTS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all constraints",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0b14ad3a-95cf-49c8-aa0f-84028b69423c",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('constraint', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/constraints",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one constraint",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/constraints/{{constraint}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints",
								"{{constraint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new constraint",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "be9c2cbb-da3b-4c75-a6de-9b34c5bf0c74",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"var features = JSON.parse(pm.environment.get(\"features\"));",
									"pm.environment.set('tag', tags[0]._id);",
									"pm.environment.set('feature', features[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"type1\": \"Tag\",\r\n\t\"type2\": \"Feature\",\r\n\t\"element1\": \"{{tag}}\",\r\n\t\"element2\": \"{{feature}}\",\r\n\t\"relationship\": \"dependency\"\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/constraints/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new constraints",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e73d95be-8d19-4e56-be35-91ee6926af92",
								"exec": [
									"var tags = JSON.parse(pm.environment.get(\"tags\"));",
									"var features = JSON.parse(pm.environment.get(\"features\"));",
									"pm.environment.set('tag1', tags[0]._id);",
									"pm.environment.set('tag2', tags[1]._id);",
									"pm.environment.set('feature1', features[0]._id);",
									"pm.environment.set('feature2', features[1]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n  {\r\n    \"type1\": \"Feature\",\r\n    \"type2\": \"Tag\",\r\n    \"element1\": \"{{feature1}}\",\r\n    \"element2\": \"{{tag1}}\",\r\n    \"relationship\": \"dependency\"\r\n  },\r\n  {\r\n    \"type1\": \"Tag\",\r\n    \"type2\": \"Feature\",\r\n    \"element1\": \"{{tag1}}\",\r\n    \"element2\": \"{{feature2}}\",\r\n    \"relationship\": \"dependency\"\r\n  },\r\n  {\r\n    \"type1\": \"Tag\",\r\n    \"type2\": \"Feature\",\r\n    \"element1\": \"{{tag2}}\",\r\n    \"element2\": \"{{feature1}}\",\r\n    \"relationship\": \"dependency\"\r\n  },\r\n  {\r\n    \"type1\": \"Feature\",\r\n    \"type2\": \"Feature\",\r\n    \"element1\": \"{{feature2}}\",\r\n    \"element2\": \"{{feature1}}\",\r\n    \"relationship\": \"dependency\"\r\n  }\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/constraints?verbose=true",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints"
							],
							"query": [
								{
									"key": "verbose",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a constraint by id",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/constraints/{{constraint}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"constraints",
								"{{constraint}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "MEASUREMENTS",
			"item": [
				{
					"name": "GET all measurements",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11f2ec22-be75-49e1-8378-53150d88f0c5",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"if(data.docs) pm.environment.set('measurement', data.docs[0]._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET one measurement",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements/{{measurement}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements",
								"{{measurement}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET only the first two measurements (paginated)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?limit=2&page=2",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "limit",
									"value": "2"
								},
								{
									"key": "page",
									"value": "2"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET only start date of all measurements (selected)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?select={\"startDate\":1}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "select",
									"value": "{\"startDate\":1}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"tags\":\" \"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"tags\":\" \"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature (filtered)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"feature\":\"speed-statistics\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"feature\":\"speed-statistics\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature and a with a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"feature\":\"Stat\", \"tags\":\" \"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"feature\":\"Stat\", \"tags\":\" \"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature, baseFeatures, and a with a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?aggregator=[{\"$lookup\": { \"from\": \"things\", \"localField\": \"relatedThings\", \"foreignField\": \"_id\", \"as\": \"thing_docs\"}},\n{ \"$addFields\": { \"metadata\": \"$thing_docs.metadata\" }},\n{ \"$addFields\": { \"mileage\": \"$metadata.mileage\" }},\n{ \"$addFields\": { \"type\": \"$metadata.type\" }},\n{ \"$match\":{ \"$and\": [{\"type\": \"Ordinary\"},{\"feature\": \"Stat\"},{\"baseFeatures\":  { \"$size\": 1,\"$all\": [\"VehicleSpeed\"] } }]}}]",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "aggregator",
									"value": "[{\"$lookup\": { \"from\": \"things\", \"localField\": \"relatedThings\", \"foreignField\": \"_id\", \"as\": \"thing_docs\"}},\n{ \"$addFields\": { \"metadata\": \"$thing_docs.metadata\" }},\n{ \"$addFields\": { \"mileage\": \"$metadata.mileage\" }},\n{ \"$addFields\": { \"type\": \"$metadata.type\" }},\n{ \"$match\":{ \"$and\": [{\"type\": \"Ordinary\"},{\"feature\": \"Stat\"},{\"baseFeatures\":  { \"$size\": 1,\"$all\": [\"VehicleSpeed\"] } }]}}] "
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "GET measurements only from a specific feature OR with a specific tag (filtered)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/v1/measurements?filter=[{\"feature\":\"speed-statistics\"}, {\"tags\":\"automatic\"}]",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "[{\"feature\":\"speed-statistics\"}, {\"tags\":\"automatic\"}]"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new measurement (location point)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{\r\n\t\t\"startDate\": \"2018-10-20T00:00:00.000Z\",\r\n\t\t\"endDate\": \"{{current_timestamp}}\",\r\n\t\t\"thing\": \"firstTrip\",\r\n\t\t\"feature\": \"Stat\",\r\n\t\t\"baseFeatures\": [\"Speed\"],\r\n\t\t\"device\": \"Speedometer\",\r\n\t\t\"values\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": [\"80\",\"10\",\"0\",\"140\",\"80\", \"1000\", \"5\", \"Infinity\"]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\"tags\":[\" \"]\r\n\t}\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a new measurement (location multi-point)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "22e1c321-d76f-4302-a498-8e67cf7453e2",
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"measurement\", jsonData._id);",
									"tests[\"measurement = \" + jsonData._id] = true;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a list of new measurements",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									"var current_timestamp = new Date();",
									"postman.setEnvironmentVariable(\"current_timestamp\", current_timestamp.toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\r\n\t{\r\n\t\t\"startDate\": \"2018-10-20T00:00:00.000Z\",\r\n\t\t\"endDate\": \"{{current_timestamp}}\",\r\n\t\t\"thing\": \"firstTrip\",\r\n\t\t\"feature\": \"Stat\",\r\n\t\t\"baseFeatures\": [\"Speed\"],\r\n\t\t\"device\": \"Speedometer\",\r\n\t\t\"values\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": [\"80\",\"10\",\"0\",\"140\",\"80\", \"1000\"]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\"tags\":[\" \"]\r\n\t}\r\n]"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE a measurement by id",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/measurements/5c054084b2595daf14b8ce58",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements",
								"5c054084b2595daf14b8ce58"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT a measurement by filter",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"feature\":\"Histogram\",\n\t\"baseFeatures\":\"Speed\",\n\t\"thing\": \"secondTrip\",\n\t\"tags\": [\"ADF_ON\", \"UNINFLUENCEDDRIVING_OFF\"],\n\t\"values\": [\n\t\t\t{\n\t\t\t\t\"value\": [\"100\",\"0\",\"5\",\"5\"]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"value\": [\"10\",\"30\",\"40\",\"20\"]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"value\": [\"30\",\"Infinity\",\"20\",\"55\"]\n\t\t\t\t}\n\t\t\t]\n}"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT a measurement by id",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"values\": [\n\t\t\t{\n\t\t\t\t\"value\": [\"0\",\"10\",\"5\",\"5\"]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"value\": [\"10\",\"30\",\"40\",\"20\"]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"value\": [\"30\",\"Infinity\",\"20\",\"55\"]\n\t\t\t\t}\n\t\t\t]\n}"
						},
						"url": {
							"raw": "{{url}}/v1/measurements/5c505a1962e8eb25e44c9e92",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements",
								"5c505a1962e8eb25e44c9e92"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "COMPUTATIONS (OUTLIERS)",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"pm.environment.set(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a thing called office",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3ffc77c6-991b-44a1-bbbb-db203d7d50c5",
								"exec": [
									"pm.environment.set(\"thing\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"_id\": \"office\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/things/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"things",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST temperature feature",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e57057a1-0744-4e29-9285-2182096eb533",
								"exec": [
									"pm.environment.set(\"feature\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"_id\": \"temperature\",\r\n   \"items\": [\r\n\t   \t{\r\n\t      \t\"name\": \"value\",\r\n\t        \"unit\": \"celsius degrees\",\r\n\t        \"type\": \"number\",\r\n            \"dimension\": 0\r\n\t    }\r\n\t]\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/features",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"features"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a thermometer device",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0b7eff8d-42e7-41d2-843b-ff43801a3062",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bf934b5a-b6e0-41dd-bd48-bdf0559f4d97",
								"exec": [
									"pm.environment.set(\"device\", JSON.parse(responseBody)._id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"_id\": \"thermometer\",\r\n    \"features\": [\"{{feature}}\"]\r\n}\r\n"
						},
						"url": {
							"raw": "{{url}}/v1/devices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"devices",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "POST temperature measurements",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "981648d0-4153-4d98-9273-49fbcfd23e04",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"12\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"14\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\",  \n\t\t\"samples\": [ { \"numbers\": [\"51\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"12\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"10\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\",  \n\t\t\"samples\": [ { \"numbers\": [\"9\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"16\"] } ] \n\t},\n\t{ \n\t\t\"thing\": \"{{thing}}\", \n\t\t\"feature\": \"{{feature}}\",\n\t\t\"device\": \"{{device}}\", \n\t\t\"samples\": [ { \"numbers\": [\"1\"] } ] \n\t}\n]\n"
						},
						"url": {
							"raw": "{{url}}/v1/measurements",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all temperature of office paginated",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"thing\":\"{{thing}}\"}&limit=5&page=1 ",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"thing\":\"{{thing}}\"}"
								},
								{
									"key": "limit",
									"value": "5"
								},
								{
									"key": "page",
									"value": "1 "
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "POST a computation to identify temperature outliers",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d5804f46-8442-49cf-a4ef-4156def6e3ae",
								"exec": [
									"pm.environment.set(\"computation\", JSON.parse(responseBody)._id);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"name\": \"Find outliers from temperature in office\",\r\n\t\"code\": \"outliers()\",\r\n\t\"filter\": \"{\\\"thing\\\":\\\"{{thing}}\\\", \\\"feature\\\":\\\"{{feature}}\\\"}\"\r\n}"
						},
						"url": {
							"raw": "{{url}}/v1/computations",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"computations"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET the computation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/computations/{{computation}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"computations",
								"{{computation}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET all outliers from temperature of office paginated",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/measurements?filter={\"thing\":\"{{thing}}\", \"tags\":\"outlier\"}&limit=5&page=1 ",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"measurements"
							],
							"query": [
								{
									"key": "filter",
									"value": "{\"thing\":\"{{thing}}\", \"tags\":\"outlier\"}"
								},
								{
									"key": "limit",
									"value": "5"
								},
								{
									"key": "page",
									"value": "1 "
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE the computation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/v1/computations/{{computation}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"computations",
								"{{computation}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "LOGS",
			"item": [
				{
					"name": "LOGIN as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									"postman.setEnvironmentVariable(\"token\", JSON.parse(responseBody).token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\" : \"admin\",\n\t\"password\" : \"admin\"\n}"
						},
						"url": {
							"raw": "{{url}}/v1/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Logs as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8b396eb-9ab8-4738-b284-64d604978545",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/v1/log",
							"host": [
								"{{url}}"
							],
							"path": [
								"v1",
								"log"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "API docs",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6d2ffb23-3edf-49a5-bd66-1b69012c7ef6",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"demo\", jsonData);",
							"tests[\"demo = \" + jsonData] = true;"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{url}}/",
					"host": [
						"{{url}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		}
	]
}